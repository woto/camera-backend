// rangetouch@2.0.1 downloaded from https://ga.jspm.io/npm:rangetouch@2.0.1/dist/rangetouch.js

var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var d={};!function(i,b){d=b()}(d,(function(){function e(i,d){for(var b=0;b<d.length;b++){var y=d[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(i,y.key,y)}}function t(i,d,b){return d in i?Object.defineProperty(i,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):i[d]=b,i}function n(i,d){var b=Object.keys(i);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(i);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable}))),b.push.apply(b,y)}return b}function r(i){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?n(Object(b),!0).forEach((function(d){t(i,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(b)):n(Object(b)).forEach((function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(b,d))}))}return i}var d={addCSS:!0,thumbWidth:15,watch:!0};function u(d,b){return function(){return Array.from(document.querySelectorAll(b)).includes(this||i)}.call(d,b)}var o=function(i){return null!=i?i.constructor:null},c=function(i,d){return!!(i&&d&&i instanceof d)},l=function(i){return null==i},a=function(i){return o(i)===Object},s=function(i){return o(i)===String},f=function(i){return Array.isArray(i)},h=function(i){return c(i,NodeList)},b=s,y=f,O=h,m=function(i){return c(i,Element)},g=function(i){return c(i,Event)},p=function(i){return l(i)||(s(i)||f(i)||h(i))&&!i.length||a(i)&&!Object.keys(i).length};function v(i,d){if(1>d){var b=function(i){var d="".concat(i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return d?Math.max(0,(d[1]?d[1].length:0)-(d[2]?+d[2]:0)):0}(d);return parseFloat(i.toFixed(b))}return Math.round(i/d)*d}return function(){function t(y,O){(function(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")})(this||i,t),m(y)?(this||i).element=y:b(y)&&((this||i).element=document.querySelector(y)),m((this||i).element)&&p((this||i).element.rangeTouch)&&((this||i).config=r({},d,{},O),this.init())}return w=t,j=[{key:"setup",value:function(i){var w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},S=null;if(p(i)||b(i)?S=Array.from(document.querySelectorAll(b(i)?i:'input[type="range"]')):m(i)?S=[i]:O(i)?S=Array.from(i):y(i)&&(S=i.filter(m)),p(S))return null;var j=r({},d,{},w);if(b(i)&&j.watch){var A=new MutationObserver((function(d){Array.from(d).forEach((function(d){Array.from(d.addedNodes).forEach((function(d){m(d)&&u(d,i)&&new t(d,j)}))}))}));A.observe(document.body,{childList:!0,subtree:!0})}return S.map((function(i){return new t(i,w)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],(S=[{key:"init",value:function(){t.enabled&&((this||i).config.addCSS&&((this||i).element.style.userSelect="none",(this||i).element.style.webKitUserSelect="none",(this||i).element.style.touchAction="manipulation"),this.listeners(!0),(this||i).element.rangeTouch=this||i)}},{key:"destroy",value:function(){t.enabled&&((this||i).config.addCSS&&((this||i).element.style.userSelect="",(this||i).element.style.webKitUserSelect="",(this||i).element.style.touchAction=""),this.listeners(!1),(this||i).element.rangeTouch=null)}},{key:"listeners",value:function(d){var b=this||i,y=d?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){b.element[y](i,(function(i){return b.set(i)}),!1)}))}},{key:"get",value:function(d){if(!t.enabled||!g(d))return null;var b,y=d.target,O=d.changedTouches[0],w=parseFloat(y.getAttribute("min"))||0,S=parseFloat(y.getAttribute("max"))||100,j=parseFloat(y.getAttribute("step"))||1,A=y.getBoundingClientRect(),E=100/A.width*((this||i).config.thumbWidth/2)/100;return 0>(b=100/A.width*(O.clientX-A.left))?b=0:100<b&&(b=100),50>b?b-=(100-2*b)*E:50<b&&(b+=2*(b-50)*E),w+v(b/100*(S-w),j)}},{key:"set",value:function(i){t.enabled&&g(i)&&!i.target.disabled&&(i.preventDefault(),i.target.value=this.get(i),function(i,d){if(i&&d){var b=new Event(d,{bubbles:!0});i.dispatchEvent(b)}}(i.target,"touchend"===i.type?"change":"input"))}}])&&e(w.prototype,S),j&&e(w,j),t;var w,S,j}()}));var b=d;export default b;

